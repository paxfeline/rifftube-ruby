[{"/Users/davidnewberry/Documents/test_rails/frontend/src/index.js":"1","/Users/davidnewberry/Documents/test_rails/frontend/src/App.js":"2","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/index.js":"3","/Users/davidnewberry/Documents/test_rails/frontend/src/components/LandingPage.js":"4","/Users/davidnewberry/Documents/test_rails/frontend/src/components/About.js":"5","/Users/davidnewberry/Documents/test_rails/frontend/src/components/Profile.js":"6","/Users/davidnewberry/Documents/test_rails/frontend/src/components/Account.js":"7","/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/EditInterface.js":"8","/Users/davidnewberry/Documents/test_rails/frontend/src/components/ViewInterface/ViewInterface.js":"9","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/mode-reducer.js":"10","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/name-reducer.js":"11","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffsPlaying-reducer.js":"12","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/videoDuration-reducer.js":"13","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffs-reducer.js":"14","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/websocket-reducer.js":"15","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffsAudio-reducer.js":"16","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffsMeta-reducer.js":"17","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/videoID-reducer.js":"18","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/userData-reducer.js":"19","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/publicProfileData-reducer.js":"20","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/immediate-record-reducer.js":"21","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/globalVideoList-reducer.js":"22","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/acctImgKey-reducer.js":"23","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/recorder-reducer.js":"24","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/publicProfileName-reducer.js":"25","/Users/davidnewberry/Documents/test_rails/frontend/src/components/Login/Login.js":"26","/Users/davidnewberry/Documents/test_rails/frontend/src/components/NavBar.js":"27","/Users/davidnewberry/Documents/test_rails/frontend/src/components/VideoList.js":"28","/Users/davidnewberry/Documents/test_rails/frontend/src/components/MetaBar.js":"29","/Users/davidnewberry/Documents/test_rails/frontend/src/components/ViewInterface/AuthorSelector.js":"30","/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/EditControls.js":"31","/Users/davidnewberry/Documents/test_rails/frontend/src/components/YouTubeVideo/YouTubeVideo.js":"32","/Users/davidnewberry/Documents/test_rails/frontend/src/actions/index.js":"33","/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/RiffList.js":"34","/Users/davidnewberry/Documents/test_rails/frontend/src/components/YouTubeVideo/AllowPlayback.js":"35","/Users/davidnewberry/Documents/test_rails/frontend/src/components/ViewInterface/ViewFilter.js":"36","/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/RiffDetail.js":"37","/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/Record.js":"38","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/user-info-reducer.js":"39","/Users/davidnewberry/Documents/test_rails/frontend/src/components/Signup.js":"40","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/logged-in-reducer.js":"41","/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/util.js":"42","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/metaBarPlayhead-reducer.js":"43","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/rifftubePlayer-reducer.js":"44","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/audioPlayers-reducer.js":"45","/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/metaBarCallback-reducer.js":"46"},{"size":808,"mtime":1680409809179,"results":"47","hashOfConfig":"48"},{"size":1569,"mtime":1680409641741,"results":"49","hashOfConfig":"48"},{"size":2321,"mtime":1681107629927,"results":"50","hashOfConfig":"48"},{"size":1144,"mtime":1680161515150,"results":"51","hashOfConfig":"48"},{"size":7858,"mtime":1680249443991,"results":"52","hashOfConfig":"48"},{"size":1110,"mtime":1650937307000,"results":"53","hashOfConfig":"48"},{"size":2819,"mtime":1677476796436,"results":"54","hashOfConfig":"48"},{"size":3184,"mtime":1681849675942,"results":"55","hashOfConfig":"48"},{"size":1388,"mtime":1681105632325,"results":"56","hashOfConfig":"48"},{"size":877,"mtime":1680582259288,"results":"57","hashOfConfig":"48"},{"size":423,"mtime":1677401381313,"results":"58","hashOfConfig":"48"},{"size":471,"mtime":1593065086000,"results":"59","hashOfConfig":"48"},{"size":277,"mtime":1593065086000,"results":"60","hashOfConfig":"48"},{"size":2078,"mtime":1681697024068,"results":"61","hashOfConfig":"48"},{"size":267,"mtime":1593065086000,"results":"62","hashOfConfig":"48"},{"size":1721,"mtime":1681696830048,"results":"63","hashOfConfig":"48"},{"size":471,"mtime":1680633246899,"results":"64","hashOfConfig":"48"},{"size":263,"mtime":1648955198000,"results":"65","hashOfConfig":"48"},{"size":263,"mtime":1627195503000,"results":"66","hashOfConfig":"48"},{"size":319,"mtime":1677049539712,"results":"67","hashOfConfig":"48"},{"size":404,"mtime":1651818855000,"results":"68","hashOfConfig":"48"},{"size":288,"mtime":1680062636473,"results":"69","hashOfConfig":"48"},{"size":291,"mtime":1653941779000,"results":"70","hashOfConfig":"48"},{"size":302,"mtime":1651817894000,"results":"71","hashOfConfig":"48"},{"size":295,"mtime":1648955198000,"results":"72","hashOfConfig":"48"},{"size":1514,"mtime":1680250002297,"results":"73","hashOfConfig":"48"},{"size":1174,"mtime":1680161547939,"results":"74","hashOfConfig":"48"},{"size":795,"mtime":1680067963760,"results":"75","hashOfConfig":"48"},{"size":1486,"mtime":1681116909824,"results":"76","hashOfConfig":"48"},{"size":4458,"mtime":1680653276181,"results":"77","hashOfConfig":"48"},{"size":7815,"mtime":1681849727748,"results":"78","hashOfConfig":"48"},{"size":11149,"mtime":1681368484716,"results":"79","hashOfConfig":"48"},{"size":12255,"mtime":1681689198043,"results":"80","hashOfConfig":"48"},{"size":1451,"mtime":1681194273000,"results":"81","hashOfConfig":"48"},{"size":1958,"mtime":1681108330818,"results":"82","hashOfConfig":"48"},{"size":8975,"mtime":1681102588449,"results":"83","hashOfConfig":"48"},{"size":3966,"mtime":1681691505284,"results":"84","hashOfConfig":"48"},{"size":2943,"mtime":1651819821000,"results":"85","hashOfConfig":"48"},{"size":297,"mtime":1679728148013,"results":"86","hashOfConfig":"48"},{"size":4518,"mtime":1679728110452,"results":"87","hashOfConfig":"48"},{"size":318,"mtime":1677662156002,"results":"88","hashOfConfig":"48"},{"size":1451,"mtime":1681849227817,"results":"89","hashOfConfig":"48"},{"size":287,"mtime":1681096434402,"results":"90","hashOfConfig":"48"},{"size":283,"mtime":1681096442682,"results":"91","hashOfConfig":"48"},{"size":1644,"mtime":1681108461598,"results":"92","hashOfConfig":"48"},{"size":287,"mtime":1681107623464,"results":"93","hashOfConfig":"48"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},"1ub5wub",{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"97"},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"121"},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"155","messages":"156","suppressedMessages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"158","messages":"159","suppressedMessages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"161","messages":"162","suppressedMessages":"163","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"164","messages":"165","suppressedMessages":"166","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"167","messages":"168","suppressedMessages":"169","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"170","messages":"171","suppressedMessages":"172","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"173","messages":"174","suppressedMessages":"175","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"176","messages":"177","suppressedMessages":"178","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"179","messages":"180","suppressedMessages":"181","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"182","messages":"183","suppressedMessages":"184","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"185","messages":"186","suppressedMessages":"187","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"188","messages":"189","suppressedMessages":"190","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191"},{"filePath":"192","messages":"193","suppressedMessages":"194","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"195","messages":"196","suppressedMessages":"197","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"198","messages":"199","suppressedMessages":"200","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"201","messages":"202","suppressedMessages":"203","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"204","messages":"205","suppressedMessages":"206","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"207","messages":"208","suppressedMessages":"209","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"210","messages":"211","suppressedMessages":"212","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"213","usedDeprecatedRules":"214"},{"filePath":"215","messages":"216","suppressedMessages":"217","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"218","messages":"219","suppressedMessages":"220","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"221","messages":"222","suppressedMessages":"223","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"97"},{"filePath":"224","messages":"225","suppressedMessages":"226","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"227","messages":"228","suppressedMessages":"229","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"230","messages":"231","suppressedMessages":"232","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"233","messages":"234","suppressedMessages":"235","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"236","messages":"237","suppressedMessages":"238","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/davidnewberry/Documents/test_rails/frontend/src/index.js",[],[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/App.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/index.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/LandingPage.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/About.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/Profile.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/Account.js",["239"],[],"import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport Login from './Login/Login';\nimport { setRifferName, setRiffPic, getUserData } from '../actions';\nimport NavBar from './NavBar.js';\nimport VideoList from './VideoList';\n\nconst Account = ({\n  setRifferName,\n  setRiffPic,\n  userData,\n  getUserData,\n  userInfo,\n  acctImgKey,\n  loggedIn,\n}) => {\n  const [userName, setUserName] = useState(userInfo?.name);\n\n  useEffect(() => {\n    if (loggedIn) getUserData();\n  }, [getUserData, loggedIn]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (userName !== '') {\n      setRifferName(userName);\n    }\n  };\n\n  const picSubmit = (event) => {\n    event.preventDefault();\n    //console.log(event.target.children[0].value);\n    setRiffPic(event.target.children[0].files[0]);\n  };\n\n  const handleChange = (event) => {\n    event.preventDefault();\n    setUserName(event.target.value);\n  };\n\n  return (\n    <div className=\"landing-page\">\n      <NavBar />\n      <div className=\"title-and-url heading\">\n        <h1 className=\"heading-primary-main account-heading\">\n          Account Settings\n        </h1>\n      </div>\n      <section className=\"top-part\">\n        {loggedIn ? (\n          <React.Fragment>\n            <h3>\n              visit <Link to={`/profile/${userInfo.id}`}>public profile</Link>\n            </h3>\n            <form onSubmit={(event) => handleSubmit(event)}>\n              <label>\n                <h3 className=\"account-section-title\">My Riffer Name</h3>\n                <input\n                  onChange={(event) => handleChange(event)}\n                  type=\"text\"\n                  name=\"name\"\n                  defaultValue={userInfo.name}\n                  className=\"form-field\"\n                />\n              </label>\n              <input type=\"submit\" value=\"Submit\" className=\"btn\" />\n            </form>\n            <img key={acctImgKey} src={`/riffer-pic/${userInfo.id}.png?${acctImgKey}`} />\n            <form onSubmit={(event) => picSubmit(event)}>\n              <input type=\"file\" name=\"image\" /><br /><br />\n              <button type=\"submit\">Upload</button>\n            </form>\n            <h2 className=\"account-section-title\">My Videos</h2>\n            <VideoList userData={userData} />\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <Login /> <p>to get started</p>\n          </React.Fragment>\n        )}\n      </section>\n    </div>\n  );\n};\n\nlet mapStateToProps = (state) => ({\n  userData: state.userData,\n  acctImgKey: state.acctImgKey,\n  loggedIn: state.loggedIn,\n  userInfo: state.userInfo,\n});\n\nconst mapDispatchToProps = {\n  setRifferName,\n  setRiffPic,\n  getUserData,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Account);\n","/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/EditInterface.js",["240"],[],"import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport YouTubeVideo from '../YouTubeVideo/YouTubeVideo';\nimport EditControls from './EditControls';\nimport {\n  setVideoID,\n  setWebSocket,\n  getRiffsMeta,\n  getRiffs,\n  setRecorder,\n} from '../../actions';\nimport MetaBar from '../MetaBar';\nimport NavBar from '../NavBar.js';\n\nclass EditInterface extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount = () => {\n    if (this.props.match.params.videoID) {\n      this.props.setVideoID( this.props.match.params.videoID );\n    }\n  };\n\n  // watch for video id change\n  componentDidUpdate = (prevProps, prevState) => {\n    if (this.props.match.params.videoID !== this.props.videoID) {\n      this.props.setVideoID( this.props.match.params.videoID );\n    }\n\n    if (\n      this.props.loggedIn &&\n      this.props.videoID &&\n      this.props.userInfo !== prevProps.userInfo\n    ) {\n      this.props.getRiffs(this.props.videoID);\n    }\n\n    /*\n    if (\n      this.props.loggedIn &&\n      (!this.props.websocket || this.props.videoID !== prevProps.videoID)\n    ) {\n      //const websocket = new WebSocket( `ws://localhost:3300/riff?videoID=${this.props.match.params.videoID}&googleToken=${this.props.googleUser.getAuthResponse().id_token}` );\n      var baseURL;\n      if (process.env.NODE_ENV === 'production')\n        baseURL = 'wss://rifftube.herokuapp.com';\n      else baseURL = 'ws://localhost:3300';\n\n      const websocket = new WebSocket(\n        `${baseURL}/riff?videoID=${\n          this.props.match.params.videoID\n        }&googleToken=${this.props.googleUser.getAuthResponse().id_token}`\n      );\n      websocket.onmessage = (event) => {\n        console.log(event.data);\n\n        const msg = JSON.parse(event.data);\n\n        if (msg.video_id === this.props.videoID && msg.type === 'update')\n          this.props.getRiffsMeta(this.props.videoID);\n      };\n      this.props.setWebSocket(websocket);\n    }\n    */\n  };\n\n  render() {\n    return this.props.match.params.videoID ? (\n      <React.Fragment>\n        <NavBar color=\"grey\" />\n        <div className=\"youtube-section\" style={ {marginTop: \"8rem\"} }>\n          <YouTubeVideo id={this.props.videoID} riffs={this.props.riffs} />\n          <MetaBar />\n          <div className=\"view-share-riff-link\">\n            <a\n              href={`/view/${this.props.videoID}${this.props.userInfo ? `?solo=${this.props.userInfo.id}` : ''}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              View Riffed Video\n            </a>\n          </div>\n        </div>\n        <EditControls history={this.props.history} />\n      </React.Fragment>\n    ) : (\n      <Redirect to={`/riff/${this.props.videoID}`} />\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  riffs: state.riffs,\n  videoID: state.videoID,\n  websocket: state.websocket,\n  recorder: state.recorder,\n\n  loggedIn: state.loggedIn,\n  userInfo: state.userInfo,\n});\n\nconst mapDispatchToProps = {\n  setVideoID,\n  setWebSocket,\n  getRiffsMeta,\n  getRiffs,\n  setRecorder,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditInterface);\n",[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/ViewInterface/ViewInterface.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/mode-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/name-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffsPlaying-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/videoDuration-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffs-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/websocket-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffsAudio-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/riffsMeta-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/videoID-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/userData-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/publicProfileData-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/immediate-record-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/globalVideoList-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/acctImgKey-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/recorder-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/publicProfileName-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/Login/Login.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/NavBar.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/VideoList.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/MetaBar.js",["241"],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/ViewInterface/AuthorSelector.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/EditControls.js",["242","243","244","245","246","247"],[],"import React, { useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport RiffList from './RiffList.js';\nimport Login from '../Login/Login';\n\nimport { setRifferName, togglePlayerMode, setRecorder,\n  saveNewRiff, saveEditRiff, setVideoID } from '../../actions/index.js';\n\nimport { executeScriptElements, extractVideoID } from './util.js';\n\n/*This component houses all of the riff buttons and the rifflist*/\nfunction EditControls(props)\n{\n  let templateRef = React.useRef(null);\n\n  // enforce focus on body\n  useEffect( () =>\n  {\n    const body = document.body;\n    body.setAttribute(\"tabIndex\", 1);\n    function resetFocus()\n    {\n      // allow focus to leave the body if editing dialog is open\n      if (document.querySelector('.rifftube-riff-edit-dialog')) return;\n      // I hate this use of timeout so. much.\n      // but it seems necessary\n      setTimeout( () =>\n      {\n        body.focus();\n        console.log(\"reset focus\", document.activeElement);\n        // this seems to be unnecessary, but who knows!?\n        if (document.activeElement !== body)\n          setTimeout(resetFocus, 10);\n      }, 10 );\n    }\n    body.addEventListener(\"blur\", resetFocus);\n\n    return ( () => body.removeEventListener(\"blur\", resetFocus) );\n  }, [])\n\n  // get user permission to record and save mediaRecorder object\n  useEffect( () =>\n  {\n    navigator.mediaDevices\n      .getUserMedia({ audio: true })\n      .then((stream) => {\n        let mediaRecorder = new MediaRecorder(stream);\n        props.setRecorder(mediaRecorder);\n      });\n  }, []);\n\n  // useCallback because the values of recorder and rifftubePlayer can change\n  let keydown = useCallback( (e) =>\n    {\n      let startNewRiff = (immediateRecord) =>\n      {\n        let td = templateRef.current.content.firstChild.cloneNode(true);\n        if (immediateRecord == 'r')\n          td.setAttribute(\"data-immediate-record\", \"true\");\n        if (immediateRecord == 't')\n          td.setAttribute(\"data-immediate-text\", \"true\");\n        document.body.append(td);\n\n        // set up recorder and start time\n        let set_recorder_event = new CustomEvent(\"rifftube:riff:edit:setup:recorder\",\n        {\n          detail: { recorder: props.recorder }\n        });\n        td.dispatchEvent(set_recorder_event);\n\n        let set_start_event = new CustomEvent(\"rifftube:riff:edit:setup:start\",\n        {\n          detail: { start: props.rifftubePlayer?.getCurrentTime() }\n        });\n        td.dispatchEvent(set_start_event);\n\n        console.log('dispatched', set_recorder_event, set_start_event);\n      }\n\n      if (document.querySelector('.rifftube-riff-edit-dialog')) return;\n      \n      console.log('kd meta count', e.getModifierState(\"Control\") +\n        e.getModifierState(\"Alt\") +\n        e.getModifierState(\"Meta\"));\n\n      if ( e.getModifierState(\"Control\") +\n              e.getModifierState(\"Alt\") +\n              e.getModifierState(\"Meta\") > 0 )\n          return;\n\n      if (e.key == 'r' || e.key == 't')\n      {\n        // immediate record if pressing r but not t\n        startNewRiff(e.key);\n      }\n    },\n    [props.recorder, props.rifftubePlayer] );\n\n  function saveRiff({ detail })\n  {\n    // detail is FormData\n    console.log( \"sr\", detail );\n\n    debugger;\n\n    // get FormData entries\n    const ents = Array.from(detail.entries())\n      .map(\n        ([key, val]) =>\n        (\n          [\n            // convert keys from e.g. 'riff[start]' to 'start'\n            // leave other keys unchanged\n            key.match(/riff\\[(\\w+)\\]/)?.[1] ?? key,\n            val\n          ]\n        )\n      );\n\n    // create object from entries\n    // mark as unsaved\n    const riff = Object.fromEntries(ents);\n    riff.unsaved = true;\n\n    // properly cast numeric fields\n    const numericFields = [\"start\", \"duration\"];\n    numericFields.forEach(el => riff[el] = Number(riff[el]));\n\n      //...action.payload,\n    //delete riff.payload;\n    \n    if ( riff.id )\n    {\n      props.saveEditRiff(detail, riff);\n    }\n    else\n    {\n      props.saveNewRiff(detail, riff);\n    }\n  }\n  \n  useEffect(() =>\n  {\n    document.addEventListener('rifftube:riff:save', saveRiff, false);\n\n    return () =>\n    {\n      document.removeEventListener('rifftube:riff:save', saveRiff, false);\n    }\n  }, []);\n\n  useEffect(() =>\n  {\n    document.addEventListener('keydown', keydown, false);\n\n    return () =>\n    {\n      document.removeEventListener('keydown', keydown, false);\n    }\n  }, [keydown]);\n  \n  useEffect(() =>\n  {\n    if (props.loggedIn)\n    {\n      fetch(`/riffs/new?video_id=${props.videoID}`)\n        .then(response => response.text())\n        .then(text =>\n          {\n            let el = templateRef.current;\n            el.innerHTML = text;\n            executeScriptElements(el.content);\n          });\n    }\n  }, [props.videoID, props.loggedIn]);\n\n\n    /*\n    const blurEvent = () =>\n    {\n      setTimeout(() => {\n        document.activeElement.blur();\n      }, 100);\n    };\n    window.addEventListener('blur', blurEvent);\n    const keydownEvent = (e) => {\n      console.log(props.mode);\n\n      if (e.key === 'r') props.createTempRiff('audio', props.videoID, true);\n      else if (e.key === 't') props.createTempRiff('text', props.videoID);\n      else if (props.mode === EDIT_MODE || props.mode === EDIT_NEW_MODE) return;\n      else if (e.key === 'j' || e.key === 'ArrowLeft' || e.key === 'Left')\n        // I actually took MS specific BS into account\n        window.rifftubePlayer.seekTo(\n          Math.max(window.rifftubePlayer.getCurrentTime() - 5, 0),\n          true\n        );\n      else if (e.key === 'l' || e.key === 'ArrowRight' || e.key === 'Right')\n        window.rifftubePlayer.seekTo(\n          Math.min(window.rifftubePlayer.getCurrentTime() + 5, props.duration),\n          true\n        );\n      else if (e.key === ' ' || e.key === 'k') {\n        props.togglePlayerMode();\n        e.preventDefault();\n      }\n    };\n    window.addEventListener('keydown', keydownEvent);\n\n    return () => {\n      window.removeEventListener('blur', blurEvent);\n      window.removeEventListener('keydown', keydownEvent);\n    };\n  }, [props]);\n  */\n\n  console.log(\"ec props\", props);\n\n  return (\n        <div className=\"control-panel\">\n          <button className=\"btn\" id=\"change-video-btn\" onClick={(e) => {\n              const vPrompt = prompt(\"Paste YouTube URL or video ID:\");\n              if ( vPrompt )\n              {\n                const vID = extractVideoID(vPrompt);\n                props.history.push(`/riff/${vID}`);\n                props.setVideoID(vID);\n              }\n            }}>\n            Change Video\n          </button>\n          {\n            props.loggedIn ?\n            (\n              <React.Fragment>\n                {\n                  props.userInfo?.name ?\n                  (\n                    <div className=\"riffer-name\">\n                      Riffer Name:&nbsp;\n                      {props.userInfo.name}\n                    </div>\n                  ) : null\n\n                  /* to add back later <Collaboration /> */\n                }\n                <RiffList />\n                <template ref={templateRef}></template>\n              </React.Fragment>\n            ) : \n              <div>\n                <h2 className=\"add-riff-title\">Sign In</h2>\n                <Login /> <p>to get started</p>\n              </div>\n          }\n        </div>\n  );\n}\n\nlet mapStateToProps = (state) => ({\n  mode: state.mode,\n  userInfo: state.userInfo,\n  videoID: state.videoID,\n  duration: state.duration,\n  recorder: state.recorder,\n  loggedIn: state.loggedIn,\n  rifftubePlayer: state.rifftubePlayer,\n});\n\nconst mapDispatchToProps = {\n  setRifferName,\n  togglePlayerMode,\n  setRecorder,\n  saveNewRiff,\n  saveEditRiff,\n  setVideoID,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditControls);\n","/Users/davidnewberry/Documents/test_rails/frontend/src/components/YouTubeVideo/YouTubeVideo.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/actions/index.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/RiffList.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/YouTubeVideo/AllowPlayback.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/ViewInterface/ViewFilter.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/RiffDetail.js",["248"],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/Record.js",["249"],[],"import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  setImmediateOff,\n} from '../../actions/index.js';\n\nclass Record extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      recordingState: false,\n    };\n  }\n\n  // arrow classes bind the methods properly\n\n  endRecord = () => {\n    if (this.props.recorder == null) return; // do nothing if recording isn't yet allowed\n\n    this.setState({ recordingState: false });\n    this.duration = (Date.now() - this.startTime) / 1000;\n\n    // experimenting this.state.gumStream.getAudioTracks()[0].stop();\n    this.props.recorder.finishRecording();\n\n    // create new stream -- NEEDED???? experimenting\n    /*navigator.mediaDevices\n      .getUserMedia({ audio: true, video: false })\n      .then((stream) => {\n        this.setState({ gumStream: stream });\n      })\n      .catch(function (err) {\n        //enable the record button if getUSerMedia() fails\n        console.log(\"oops, can't get stream\", err);\n      });\n      */\n  }\n\n  componentDidMount() {\n    console.log(\"record CDM\", this.props.userMedia);\n    if ( this.props.immediateRecord )\n    {\n      console.log(\"start immediately\");\n      this.startRecord();\n      setImmediateOff();\n      window.addEventListener('keyup', (e) => { if (e.key == 'r') this.endRecord(); });\n    }\n  }\n\n\n  startRecord = () => {\n    if (this.props.recorder == null) return; // do nothing if recording isn't yet allowed\n\n    this.setState({ recordingState: true });\n    this.startTime = Date.now();\n    //this.state.mediaRecorder.start();\n    this.props.recorder.onComplete = (recorder, blob) => {\n      //createDownloadLink(blob, recorder.encoding);\n      this.props.saveTempAudio(blob, this.duration);\n    };\n    this.props.recorder.setOptions({\n      timeLimit: 120,\n      encodeAfterRecord: true,\n      mp3: {\n        bitRate: 160,\n      },\n    });\n\n    //start the recording process\n    setTimeout( () => this.props.recorder.startRecording(), 200 ); // delay start to avoid clicks and taps\n  }\n\n  render() {\n    var ret; // var for the value to be returned\n\n    if (navigator.mediaDevices) {\n      if (!this.state.recordingState) {\n        ret = (\n          <button\n            id=\"recordBtn\"\n            onClick={this.startRecord}\n          >\n            Record\n          </button>\n        );\n      } else {\n        ret = (\n          <button\n            id=\"stopBtn\"\n            onClick={this.endRecord}\n          >\n            stop\n          </button>\n        );\n      }\n    } else\n      ret = (\n        <span>\n          Your device is not supported by navigator.mediaDevices. Sorry.\n        </span>\n      );\n\n    return <React.Fragment>{ret}</React.Fragment>;\n  }\n}\n\n\n\nconst mapStateToProps = (state) => ({\n  immediateRecord: state.immediateRecord,\n  recorder: state.recorder,\n});\n\nconst mapDispatchToProps = {\n  setImmediateOff,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Record);\n",[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/user-info-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/Signup.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/logged-in-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/components/RiffControls/util.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/metaBarPlayhead-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/rifftubePlayer-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/audioPlayers-reducer.js",[],[],"/Users/davidnewberry/Documents/test_rails/frontend/src/reducers/metaBarCallback-reducer.js",[],[],{"ruleId":"250","severity":1,"message":"251","line":70,"column":13,"nodeType":"252","endLine":70,"endColumn":90},{"ruleId":"253","severity":1,"message":"254","line":17,"column":3,"nodeType":"255","messageId":"256","endLine":19,"endColumn":4},{"ruleId":"257","severity":1,"message":"258","line":7,"column":55,"nodeType":"259","endLine":7,"endColumn":57,"suggestions":"260"},{"ruleId":"257","severity":1,"message":"261","line":51,"column":6,"nodeType":"259","endLine":51,"endColumn":8,"suggestions":"262"},{"ruleId":"263","severity":1,"message":"264","line":59,"column":29,"nodeType":"265","messageId":"266","endLine":59,"endColumn":31},{"ruleId":"263","severity":1,"message":"264","line":61,"column":29,"nodeType":"265","messageId":"266","endLine":61,"endColumn":31},{"ruleId":"263","severity":1,"message":"264","line":92,"column":17,"nodeType":"265","messageId":"266","endLine":92,"endColumn":19},{"ruleId":"263","severity":1,"message":"264","line":92,"column":33,"nodeType":"265","messageId":"266","endLine":92,"endColumn":35},{"ruleId":"257","severity":1,"message":"267","line":151,"column":6,"nodeType":"259","endLine":151,"endColumn":8,"suggestions":"268"},{"ruleId":"257","severity":1,"message":"269","line":24,"column":18,"nodeType":"270","endLine":24,"endColumn":29},{"ruleId":"263","severity":1,"message":"264","line":47,"column":59,"nodeType":"265","messageId":"266","endLine":47,"endColumn":61},"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setMetaBarPlayhead'. Either include it or remove the dependency array. If 'setMetaBarPlayhead' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["271"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["272"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has a missing dependency: 'saveRiff'. Either include it or remove the dependency array.",["273"],"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","Identifier",{"desc":"274","fix":"275"},{"desc":"276","fix":"277"},{"desc":"278","fix":"279"},"Update the dependencies array to be: [setMetaBarPlayhead]",{"range":"280","text":"281"},"Update the dependencies array to be: [props]",{"range":"282","text":"283"},"Update the dependencies array to be: [saveRiff]",{"range":"284","text":"285"},[287,289],"[setMetaBarPlayhead]",[1563,1565],"[props]",[4263,4265],"[saveRiff]"]